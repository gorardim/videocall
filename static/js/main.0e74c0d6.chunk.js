(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,n){},104:function(e,n){},114:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(45),o=t.n(r),i=(t(57),t(4)),u=t(13),l=(t(58),t(46)),s=t.n(l),f=t(19),m=t.n(f),b=t(14);function d(){var e=Object(u.a)(["\n  border: 1px solid blue;\n  width: 50%;\n  height: 50%;\n"]);return d=function(){return e},e}function j(){var e=Object(u.a)(["\n  display: flex;\n  width: 100%;\n"]);return j=function(){return e},e}function v(){var e=Object(u.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return v=function(){return e},e}var O=b.a.div(v()),h=b.a.div(j()),g=b.a.video(d());var p=function(){var e,n,t,r=Object(a.useState)(""),o=Object(i.a)(r,2),u=o[0],l=o[1],f=Object(a.useState)({}),b=Object(i.a)(f,2),d=b[0],j=b[1],v=Object(a.useState)(),p=Object(i.a)(v,2),y=p[0],E=p[1],w=Object(a.useState)(!1),k=Object(i.a)(w,2),S=k[0],x=k[1],C=Object(a.useState)(""),I=Object(i.a)(C,2),D=I[0],R=I[1],U=Object(a.useState)(),z=Object(i.a)(U,2),A=z[0],B=z[1],J=Object(a.useState)(!1),M=Object(i.a)(J,2),P=M[0],W=M[1],T=Object(a.useRef)(),$=Object(a.useRef)(),q=Object(a.useRef)();return Object(a.useEffect)((function(){q.current=s.a.connect("https://videocallmadevaron.herokuapp.com/"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){E(e),T.current&&(T.current.srcObject=e)})),q.current.on("yourID",(function(e){l(e)})),q.current.on("allUsers",(function(e){j(e)})),q.current.on("hey",(function(e){x(!0),R(e.from),B(e.signal)}))}),[]),y&&(e=c.a.createElement(g,{playsInline:!0,muted:!0,ref:T,autoPlay:!0})),P&&(n=c.a.createElement(g,{playsInline:!0,ref:$,autoPlay:!0})),S&&(t=c.a.createElement("div",null,c.a.createElement("h1",null,D," is calling you"),c.a.createElement("button",{onClick:function(){W(!0);var e=new m.a({initiator:!1,trickle:!1,stream:y});e.on("signal",(function(e){q.current.emit("acceptCall",{signal:e,to:D})})),e.on("stream",(function(e){$.current.srcObject=e})),e.signal(A)}},"Accept"))),c.a.createElement(O,null,c.a.createElement(h,null,e,n),c.a.createElement(h,null,Object.keys(d).map((function(e){return e===u?null:c.a.createElement("button",{onClick:function(){return function(e){var n=new m.a({initiator:!0,trickle:!1,config:{iceServers:[{urls:"stun:movit.com.my",username:"fayez97@gmail.com",credential:"98376683"},{urls:"turn:narayangang.bd",username:"fayez97@gmail.com",credential:"98376683"}]},stream:y});n.on("signal",(function(n){q.current.emit("callUser",{userToCall:e,signalData:n,from:u})})),n.on("stream",(function(e){$.current&&($.current.srcObject=e)})),q.current.on("callAccepted",(function(e){W(!0),n.signal(e)}))}(e)}},"Call ",e)}))),c.a.createElement(h,null,t))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,n,t){e.exports=t(114)},57:function(e,n,t){},58:function(e,n,t){},87:function(e,n){}},[[52,1,2]]]);
//# sourceMappingURL=main.0e74c0d6.chunk.js.map